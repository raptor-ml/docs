<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-docs/concepts/basics">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.0">
<title data-rh="true">The basics | Raptor</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://raptor.ml/docs/concepts/basics"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="keywords" content="raptor-ml, raptor, ml, machine learning, feature store, operational model, mlops, productization, deployment, data science, data engineering, data pipeline, prediction, inference, concepts, model serving, tabular data, time series, kubernetes, research, feature engineering, feature selection, feature extraction, feature transformation, feature aggregation, feature generation, feature enrichment, feature validation, devops, data ops, data science ops, data engineering ops, data science platform, data engineering platform, feature engineering platform, online, real-time, batch, offline, scalability, sagemaker, feast, feathr, mlflow, kubeflow, docker, backend, production, production-ready"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="The basics | Raptor"><meta data-rh="true" name="description" content="In this tutorial, we&#x27;ll cover the basics of LabSDK to write features and models."><meta data-rh="true" property="og:description" content="In this tutorial, we&#x27;ll cover the basics of LabSDK to write features and models."><link data-rh="true" rel="icon" href="/img/icon.svg"><link data-rh="true" rel="canonical" href="https://raptor.ml/docs/concepts/basics"><link data-rh="true" rel="alternate" href="https://raptor.ml/docs/concepts/basics" hreflang="en"><link data-rh="true" rel="alternate" href="https://raptor.ml/docs/concepts/basics" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://MPWPX5FK2F-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Raptor RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Raptor Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Raptor" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.f8f2f9cb.css">
<link rel="preload" href="/assets/js/runtime~main.bf62a5d1.js" as="script">
<link rel="preload" href="/assets/js/main.f23d99b8.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_iHOr" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Raptor" class="themedImage_tS4Z themedImage--light_bnxf"><img src="/img/logo.svg" alt="Raptor" class="themedImage_tS4Z themedImage--dark_lziO"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs">Docs</a><a class="navbar__item navbar__link" href="/reference/how-does-raptor-work">Reference</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/community">Community</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/raptor-ml/raptor" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_St7Q"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_jCZ4 colorModeToggle_Up3A"><button class="clean-btn toggleButton_YkpQ toggleButtonDisabled_qgZS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_J1mK"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_pNV9"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_mpLA"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_sMK5 docsWrapper_QbyX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_q22d" type="button"></button><div class="docPage_lJCk"><aside class="theme-doc-sidebar-container docSidebarContainer_Fhqy"><div class="sidebarViewport_xkO1"><div class="sidebar_JkBi"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_tBnP"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/getting-started-ipynb">Getting Started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item concepts"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/concepts">Core Concepts</a><button aria-label="Toggle the collapsible sidebar category &#x27;Core Concepts&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts/mindset">The production mindset</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/concepts/basics">The basics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts/datasources">Data Sources</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts/aggregations">Aggregations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts/sourceless">Sourceless features</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts/derived">Derived feature (like &quot;join&quot;)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts/models">Models</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts/common">Common use-cases</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/devops-area">DevOps Area</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/troubleshooting">Troubleshooting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/community">Join the community</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a href="https://github.com/raptor-ml/raptor" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_nlIk">Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_St7Q"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></nav></div></div></aside><main class="docMainContainer_YddP"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_feDt"><div class="docItemContainer_I9jI"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_ROLU" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_u0Uh"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/concepts"><span itemprop="name">Core Concepts</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">The basics</span><meta itemprop="position" content="2"></li></ul></nav><div class="theme-doc-markdown markdown"><header><h1>The basics</h1></header><p>In this tutorial, we&#x27;ll cover the basics of LabSDK to write features and models.</p><h1>Install the LabSDK</h1><p>In order to use the LabSDK, you need to install it. The recommended way is to use
the <a href="https://pip.pypa.io/en/stable/" target="_blank" rel="noopener noreferrer"><code>pip</code></a> utility:</p><div class="language-bash codeBlockContainer_OKN8 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_qGSU"><pre tabindex="0" class="prism-code language-bash codeBlock_P6_l thin-scrollbar"><code class="codeBlockLines_RGFn"><span class="token-line" style="color:#393A34"><span class="token plain">pip </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> --upgrade raptor-labsdk</span><br></span></code></pre><div class="buttonGroup_jSlw"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_OKyP" aria-hidden="true"><svg class="copyButtonIcon_JUqq" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_qxs2" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>To use the LabSDK, you need to import it:</p><div class="language-python codeBlockContainer_OKN8 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_qGSU"><pre tabindex="0" class="prism-code language-python codeBlock_P6_l thin-scrollbar"><code class="codeBlockLines_RGFn"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> raptor </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><br></span></code></pre><div class="buttonGroup_jSlw"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_OKyP" aria-hidden="true"><svg class="copyButtonIcon_JUqq" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_qxs2" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h1>Hello world feature</h1><p>The very first feature we&#x27;ll build is the <code>Hello world</code> feature. It&#x27;s a simple feature that simply
returns the string <code>&quot;Hello world&quot;</code>:</p><div class="language-python codeBlockContainer_OKN8 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_qGSU"><pre tabindex="0" class="prism-code language-python codeBlock_P6_l thin-scrollbar"><code class="codeBlockLines_RGFn codeBlockLinesWithNumbering_rl4P"><span class="token-line codeLine_TWoA" style="color:#393A34"><span class="codeLineNumber_emEO"></span><span class="codeLineContent_E3Gn"><span class="token decorator annotation punctuation" style="color:#393A34">@feature</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">keys</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_TWoA" style="color:#393A34"><span class="codeLineNumber_emEO"></span><span class="codeLineContent_E3Gn"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:#393A34">@freshness</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">max_age</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;1m&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> max_stale</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;10h&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_TWoA" style="color:#393A34"><span class="codeLineNumber_emEO"></span><span class="codeLineContent_E3Gn"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">hello_world</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">_</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> _</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_TWoA" style="color:#393A34"><span class="codeLineNumber_emEO"></span><span class="codeLineContent_E3Gn"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;this is a hello world feature&quot;&quot;&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_TWoA" style="color:#393A34"><span class="codeLineNumber_emEO"></span><span class="codeLineContent_E3Gn"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token string-interpolation string" style="color:#e3116c">f&quot;hello world&quot;</span></span><br></span></code></pre><div class="buttonGroup_jSlw"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_OKyP" aria-hidden="true"><svg class="copyButtonIcon_JUqq" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_qxs2" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Pretty simple right? let&#x27;s go through what we did here line by line:</p><ol><li><p>We started by declaring the <a href="/reference/labsdk/decorators"><code>@feature</code></a>. For now, we&#x27;re not using any keys, so
we&#x27;re passing an empty list.</p></li><li><p>We define the feature&#x27;s freshness:</p><ol><li>We set the <code>max_age</code> to <code>1m</code> - that means that feature value that calculated <code>1 minute</code> ago, is considered as
fresh, and doesn&#x27;t need to be recalculated.</li><li>We set the <code>max_stale</code> to <code>10h</code> - that means that if we can&#x27;t have a fresh value, and can&#x27;t calculate a fresh
value fast enough, we&#x27;ll use a stale value as long as it&#x27;s not older than <code>10 hours</code>.</li></ol><div class="theme-admonition theme-admonition-tip alert alert--success admonition_dVPo"><div class="admonitionHeading_sgFN"><span class="admonitionIcon_bDiu"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Freshness</div><div class="admonitionContent_kKBu"><p>The Freshness defines a contract between the feature&#x27;s author and the production engine.
By setting the freshness, you can specify the amount of time that the value is considered fresh, and when it&#x27;s must
be discarded and recalculated.</p><p>For more information about feature freshness, check out
the <a href="/reference/how-does-raptor-work/freshness">Freshness</a> section.</p></div></div></li><li><p>We defined the feature&#x27;s logic, and naming our feature <code>hello_world</code> and returning <code>str</code> primitive type.</p></li><li><p>We defined the feature&#x27;s description. This is a good place to put a description of the feature&#x27;s logic that can help
our colleagues to understand it.</p></li><li><p>We write our business-logic, and simply returned the string <code>&quot;hello world&quot;</code>.</p></li></ol><h1>User age feature</h1><p>The next feature we&#x27;ll build is the <code>user_age</code> feature. It&#x27;s a simple feature that simply returns the user&#x27;s age in
years.
It&#x27;s using the <code>birthdate</code> of the <code>user_id</code> to calculate the feature value.</p><div class="language-python codeBlockContainer_OKN8 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_qGSU"><pre tabindex="0" class="prism-code language-python codeBlock_P6_l thin-scrollbar"><code class="codeBlockLines_RGFn codeBlockLinesWithNumbering_rl4P"><span class="token-line codeLine_TWoA" style="color:#393A34"><span class="codeLineNumber_emEO"></span><span class="codeLineContent_E3Gn"><span class="token decorator annotation punctuation" style="color:#393A34">@feature</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">keys</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;user_id&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> data_sources</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">User</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_TWoA" style="color:#393A34"><span class="codeLineNumber_emEO"></span><span class="codeLineContent_E3Gn"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:#393A34">@freshness</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">max_age</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;10d&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> max_stale</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;30d&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_TWoA" style="color:#393A34"><span class="codeLineNumber_emEO"></span><span class="codeLineContent_E3Gn"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">user_age</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">this_row</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ctx</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Context</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_TWoA" style="color:#393A34"><span class="codeLineNumber_emEO"></span><span class="codeLineContent_E3Gn"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;age of the user in years&quot;&quot;&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_TWoA" style="color:#393A34"><span class="codeLineNumber_emEO"></span><span class="codeLineContent_E3Gn"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">timestamp </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> this_row</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;birthdate&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">days </span><span class="token operator" style="color:#393A34">//</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">365</span></span><br></span></code></pre><div class="buttonGroup_jSlw"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_OKyP" aria-hidden="true"><svg class="copyButtonIcon_JUqq" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_qxs2" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-info alert alert--info admonition_dVPo"><div class="admonitionHeading_sgFN"><span class="admonitionIcon_bDiu"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>What&#x27;s the calculation context?</div><div class="admonitionContent_kKBu"><p>The calculation context is a providing information about the calculation process. It contains the following fields:</p><ul><li><code>fqn</code> - the feature&#x27;s fully qualified name.</li><li><code>keys</code> - a dictionary of the feature&#x27;s keys.</li><li><code>timestamp</code> - the timestamp of the calculation.</li></ul><p>For more information about the calculation context, check out
the <a href="/reference/how-does-raptor-work/features/context">Context</a> section.</p></div></div><h1>Connecting the feature to data source</h1><p>You might have noticed that we&#x27;re using the <code>User</code> data source in the <code>user_age</code> feature. The data source is the way we
connect the feature to the data that we need to calculate the feature value.</p><div class="language-python codeBlockContainer_OKN8 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_qGSU"><pre tabindex="0" class="prism-code language-python codeBlock_P6_l thin-scrollbar"><code class="codeBlockLines_RGFn"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> typing_extensions </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> TypedDict</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:#393A34">@data_source</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    training_data</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">df</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    keys</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;user_id&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Optional</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    production_config</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">StreamingConfig</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Optional</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">User</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">TypedDict</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    user_id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    first_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    last_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    birthdate</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> datetime</span><br></span></code></pre><div class="buttonGroup_jSlw"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_OKyP" aria-hidden="true"><svg class="copyButtonIcon_JUqq" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_qxs2" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Data sources are composed of:</p><ol><li><p>Declaring the data source using the <a href="/reference/labsdk/decorators"><code>@data_source</code></a> decorator.</p><ol><li><p>In line 4, we&#x27;re configuring the <code>training_data</code> to be a pandas dataframe, that contains the data that we&#x27;ll use
to train the model. We can use pandas to import the data from any format that pandas supports, such as CSV,
Parquet, JSON, etc</p></li><li><p>In line 5, we&#x27;re configuring the <code>keys</code> of the data source. The keys are the fields that we&#x27;ll use to identify
the data source&#x27;s rows. In this case, we&#x27;re using the <code>user_id</code> field.</p><p>Although the keys are optional, it&#x27;s highly recommended to use them, because it will help the Raptor engine to
optimize the feature calculations.</p></li><li><p>In line 6, we&#x27;re configuring the <code>production_config</code> to be a <code>StreamingConfig</code>. This configuration is used to
create a configuration stub for the production environment. This is basically hinting our DevOps team how to
configure and connect our data source in production.</p></li></ol></li><li><p>Then, we&#x27;re defining the data source&#x27;s schema using the <code>TypedDict</code> class. This is a python class that defines the
data source&#x27;s schema. In this case, we&#x27;re defining the <code>User</code> data source to have the following fields:</p><ol><li><code>user_id</code> - a string that contains the user&#x27;s ID.</li><li><code>first_name</code> - a string that contains the user&#x27;s first name.</li><li><code>last_name</code> - a string that contains the user&#x27;s last name.</li><li><code>birthdate</code> - a datetime that contains the user&#x27;s birthdate.</li></ol><p>Defining the schema is optional, but it&#x27;s highly recommended to do so, since it can help your IDE to provide you with
auto-completion and type hints, and can help you make the most of Raptor in the future (i.e. to discover drifts in
the data).</p></li></ol><h1>Replaying the feature calculations</h1><p>When we&#x27;re in development, we need to replay the feature calculations from an historical data we have to get a sense of
how the feature will behave in production.</p><p>To do that, we can use the <code>replay</code> function. It&#x27;s a function that allows us to replay the feature calculations on the
DataSource&#x27;s training data.</p><div class="language-python codeBlockContainer_OKN8 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_qGSU"><pre tabindex="0" class="prism-code language-python codeBlock_P6_l thin-scrollbar"><code class="codeBlockLines_RGFn codeBlockLinesWithNumbering_rl4P"><span class="token-line codeLine_TWoA" style="color:#393A34"><span class="codeLineNumber_emEO"></span><span class="codeLineContent_E3Gn"><span class="token plain">ages_df </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> user_age</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">replay</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_TWoA" style="color:#393A34"><span class="codeLineNumber_emEO"></span><span class="codeLineContent_E3Gn"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_TWoA" style="color:#393A34"><span class="codeLineNumber_emEO"></span><span class="codeLineContent_E3Gn"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Let&#x27;s see the result</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_TWoA" style="color:#393A34"><span class="codeLineNumber_emEO"></span><span class="codeLineContent_E3Gn"><span class="token plain">ages_df</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">head</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre><div class="buttonGroup_jSlw"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_OKyP" aria-hidden="true"><svg class="copyButtonIcon_JUqq" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_qxs2" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h1>Model training</h1><p>Now that we have the feature values, we can train a model.</p><p>To do that, we&#x27;ll define a training function, and specify it&#x27;s input features, label(also a feature).</p><div class="language-python codeBlockContainer_OKN8 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_qGSU"><pre tabindex="0" class="prism-code language-python codeBlock_P6_l thin-scrollbar"><code class="codeBlockLines_RGFn codeBlockLinesWithNumbering_rl4P"><span class="token-line codeLine_TWoA" style="color:#393A34"><span class="codeLineNumber_emEO"></span><span class="codeLineContent_E3Gn"><span class="token decorator annotation punctuation" style="color:#393A34">@model</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_TWoA" style="color:#393A34"><span class="codeLineNumber_emEO"></span><span class="codeLineContent_E3Gn"><span class="token plain">    keys</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;customer_id&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_TWoA" style="color:#393A34"><span class="codeLineNumber_emEO"></span><span class="codeLineContent_E3Gn"><span class="token plain">    input_features</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;total_spend+sum&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_TWoA" style="color:#393A34"><span class="codeLineNumber_emEO"></span><span class="codeLineContent_E3Gn"><span class="token plain">    input_labels</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">amount</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_TWoA" style="color:#393A34"><span class="codeLineNumber_emEO"></span><span class="codeLineContent_E3Gn"><span class="token plain">    model_framework</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;sklearn&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_TWoA" style="color:#393A34"><span class="codeLineNumber_emEO"></span><span class="codeLineContent_E3Gn"><span class="token plain">    model_server</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;sagemaker-ack&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_TWoA" style="color:#393A34"><span class="codeLineNumber_emEO"></span><span class="codeLineContent_E3Gn"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_TWoA" style="color:#393A34"><span class="codeLineNumber_emEO"></span><span class="codeLineContent_E3Gn"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:#393A34">@freshness</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">max_age</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;1h&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> max_stale</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;100h&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_TWoA" style="color:#393A34"><span class="codeLineNumber_emEO"></span><span class="codeLineContent_E3Gn"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">amount_prediction</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> TrainingContext</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_TWoA" style="color:#393A34"><span class="codeLineNumber_emEO"></span><span class="codeLineContent_E3Gn"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> sklearn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">linear_model </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> LinearRegression</span></span><br></span><span class="token-line codeLine_TWoA" style="color:#393A34"><span class="codeLineNumber_emEO"></span><span class="codeLineContent_E3Gn"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_TWoA" style="color:#393A34"><span class="codeLineNumber_emEO"></span><span class="codeLineContent_E3Gn"><span class="token plain">    df </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ctx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">features_and_labels</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_TWoA" style="color:#393A34"><span class="codeLineNumber_emEO"></span><span class="codeLineContent_E3Gn"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_TWoA" style="color:#393A34"><span class="codeLineNumber_emEO"></span><span class="codeLineContent_E3Gn"><span class="token plain">    trainer </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> LinearRegression</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_TWoA" style="color:#393A34"><span class="codeLineNumber_emEO"></span><span class="codeLineContent_E3Gn"><span class="token plain">    trainer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">ctx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">input_features</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">ctx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">input_labels</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_TWoA" style="color:#393A34"><span class="codeLineNumber_emEO"></span><span class="codeLineContent_E3Gn"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_TWoA" style="color:#393A34"><span class="codeLineNumber_emEO"></span><span class="codeLineContent_E3Gn"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> trainer</span></span><br></span></code></pre><div class="buttonGroup_jSlw"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_OKyP" aria-hidden="true"><svg class="copyButtonIcon_JUqq" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_qxs2" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In this example, we&#x27;re defining a linear regression model that predicts the <code>amount</code> feature, using the <code>total_spend</code>
feature.</p><p>You can see that we&#x27;re also specifying the <code>model_framework</code> and <code>model_server</code> that we&#x27;re using. This will instruct
Raptor how to deploy the model in production.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_dVPo"><div class="admonitionHeading_sgFN"><span class="admonitionIcon_bDiu"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>What&#x27;s the training context?</div><div class="admonitionContent_kKBu"><p>The training context is a providing information about the training process. It contains the following fields:</p><ul><li><code>fqn</code> - the model&#x27;s fully qualified name.</li><li><code>keys</code> - a dictionary of the model&#x27;s keys.</li><li><code>input_features</code> - a list of the model&#x27;s input features.</li><li><code>input_labels</code> - a list of the model&#x27;s input labels.</li><li><code>features_and_labels()</code> - a function that returns a pandas dataframe that contains the features and labels.</li></ul></div></div><p>For more information about the model training, check out the <a href="/docs/concepts/models">Models</a> section.</p><h1>Exporting our model</h1><p>Once we&#x27;re done with our model, we can export it, and all of it&#x27;s dependencies, to the <code>out/</code> directory.</p><p>This will encapsulate our model, and transform our features and data-sources as production artifacts.</p><p>Also, it will create a <code>Makefile</code> so it would be easy for DevOps to integrate it in their regular CI/CD pipeline.</p><div class="language-python codeBlockContainer_OKN8 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_qGSU"><pre tabindex="0" class="prism-code language-python codeBlock_P6_l thin-scrollbar"><code class="codeBlockLines_RGFn codeBlockLinesWithNumbering_rl4P"><span class="token-line codeLine_TWoA" style="color:#393A34"><span class="codeLineNumber_emEO"></span><span class="codeLineContent_E3Gn"><span class="token plain">amount_prediction</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">export</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre><div class="buttonGroup_jSlw"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_OKyP" aria-hidden="true"><svg class="copyButtonIcon_JUqq" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_qxs2" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/raptor-ml/docs/tree/master/docs/docs/concepts/1-basics.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Sdji" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated__hqV"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/concepts/mindset"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">The production mindset</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/concepts/datasources"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Data Sources</div></a></nav></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started-ipynb">Getting started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/concepts">Core concepts</a></li></ul></div><div class="col footer__col"><div class="footer__title">Reference</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/reference/how-does-raptor-work">Reference</a></li><li class="footer__item"><a class="footer__link-item" href="/reference/labsdk/decorators">LabSDK decorators</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/community">Slack community</a></li><li class="footer__item"><a href="https://twitter.com/RaptorML" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_St7Q"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/raptor-ml/raptor" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_St7Q"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/img/logo.svg" alt="Raptor" class="themedImage_tS4Z themedImage--light_bnxf footer__logo" height="80"><img src="/img/logo.svg" alt="Raptor" class="themedImage_tS4Z themedImage--dark_lziO footer__logo" height="80"></div><div class="footer__copyright">Copyright  2023 Raptor.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.bf62a5d1.js"></script>
<script src="/assets/js/main.f23d99b8.js"></script>
</body>
</html>